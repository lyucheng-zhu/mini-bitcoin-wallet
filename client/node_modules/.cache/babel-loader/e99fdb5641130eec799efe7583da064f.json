{"ast":null,"code":"import _objectSpread from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar initialState = {\n  user: {\n    wallets: []\n  },\n  isAuth: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'LOG_IN':\n      console.log('User logging in...');\n      console.log(action.user.username);\n      return _objectSpread({}, state, {\n        isAuth: Object.keys(action.user).length > 0 ? true : false,\n        user: action.user\n      });\n\n    case 'LOG_OUT':\n      console.log('User logging out...');\n      localStorage.removeItem(\"auth\");\n      return _objectSpread({}, state, {\n        isAuth: false,\n        user: {}\n      });\n\n    case 'CHOOSE_PAYER':\n      {\n        console.log('Choosing payer...');\n\n        var _user = Object.assign({}, state.user);\n\n        _user.payer = _user.wallets[action.index];\n        localStorage.setItem(\"auth\", JSON.stringify(_user));\n        return _objectSpread({}, state, {\n          user: _user\n        });\n      }\n\n    case 'DELETE_WALLET':\n      {\n        console.log('Dleteing wallet...');\n\n        var _user2 = Object.assign({}, state.user);\n\n        _user2.wallets = _user2.wallets.filter(function (wallet) {\n          return wallet.Id !== action.walletId;\n        });\n        if (!_user2.wallets) _user2.wallets = [];\n        localStorage.setItem(\"auth\", JSON.stringify(_user2));\n        return _objectSpread({}, state, {\n          user: _user2\n        });\n      }\n\n    case 'ADD_WALLET':\n      {\n        console.log('Adding wallet...');\n\n        var _user3 = Object.assign({}, state.user);\n\n        _user3.wallets.push(action.wallet);\n\n        localStorage.setItem(\"auth\", JSON.stringify(_user3));\n        return _objectSpread({}, state, {\n          user: _user3\n        });\n      }\n\n    case 'CHOOSE_PAYER':\n      {\n        console.log('Choosing a payer...');\n\n        var _user4 = Object.assign({}, state.user);\n\n        var payer = state.user.wallets[action.index];\n        _user4.payer = payer;\n        localStorage.setItem(\"auth\", JSON.stringify(_user4));\n        return _objectSpread({}, state, {\n          user: _user4\n        });\n      }\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["D:\\Projects\\others\\mini-bitcoin-wallet\\client\\src\\redux\\reducers\\auth.js"],"names":["initialState","user","wallets","isAuth","state","action","type","console","log","username","Object","keys","length","localStorage","removeItem","_user","assign","payer","index","setItem","JSON","stringify","filter","wallet","Id","walletId","push"],"mappings":"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","sourcesContent":["const initialState = {\r\n    user: {\r\n      wallets:[]\r\n    },\r\n    isAuth: false,\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'LOG_IN':\r\n      console.log('User logging in...');\r\n      console.log(action.user.username);\r\n      return {\r\n        ...state,\r\n        isAuth: Object.keys(action.user).length > 0 ? true : false,\r\n        user: action.user\r\n      }\r\n    case 'LOG_OUT':\r\n      console.log('User logging out...');\r\n      localStorage.removeItem(\"auth\");\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        user: {}\r\n      }\r\n    case 'CHOOSE_PAYER':\r\n    {\r\n      console.log('Choosing payer...');\r\n      let _user = Object.assign({}, state.user);\r\n      _user.payer = _user.wallets[action.index];\r\n      localStorage.setItem(\"auth\", JSON.stringify(_user));\r\n      return {\r\n        ...state,\r\n        user: _user\r\n      }\r\n    }\r\n    case 'DELETE_WALLET':\r\n    {\r\n      console.log('Dleteing wallet...');\r\n      let _user = Object.assign({}, state.user);\r\n      _user.wallets = _user.wallets.filter(wallet => wallet.Id !== action.walletId);\r\n      if (!_user.wallets) _user.wallets = [];\r\n      localStorage.setItem(\"auth\", JSON.stringify(_user));\r\n      return {\r\n        ...state,\r\n        user: _user\r\n      }\r\n    }\r\n    case 'ADD_WALLET':\r\n    {\r\n      console.log('Adding wallet...');\r\n      let _user = Object.assign({}, state.user);\r\n      _user.wallets.push(action.wallet);\r\n      localStorage.setItem(\"auth\", JSON.stringify(_user));\r\n      return {\r\n        ...state,\r\n        user: _user\r\n      }\r\n    }\r\n    case 'CHOOSE_PAYER':\r\n    {\r\n      console.log('Choosing a payer...');\r\n      let _user = Object.assign({}, state.user);\r\n      let payer = state.user.wallets[action.index];\r\n      _user.payer = payer;\r\n      localStorage.setItem(\"auth\", JSON.stringify(_user));\r\n      return {\r\n        ...state,\r\n        user: _user\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}