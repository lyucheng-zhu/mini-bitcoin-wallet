{"ast":null,"code":"import _defineProperty from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Projects\\\\playground\\\\playground-bitcoin-blockcrypher\\\\client\\\\src\\\\components\\\\Wallet.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { choosePayer, deleteWallet, addWallet } from './../redux/actions/actions';\n\nvar Wallet =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wallet, _Component);\n\n  function Wallet(props) {\n    var _this;\n\n    _classCallCheck(this, Wallet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wallet).call(this, props));\n    _this.state = {\n      walletAddressInput: \"\",\n      walletPublicKeyInput: \"\",\n      walletPrivateKeyInput: \"\"\n    };\n    _this.handleAddClick = _this.handleAddClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(Wallet, [{\n    key: \"handleChooseClick\",\n    value: function handleChooseClick(index) {\n      this.props.choosePayer(index);\n    }\n  }, {\n    key: \"handleDeleteClick\",\n    value: function handleDeleteClick(walletId) {\n      this.props.deleteWallet(walletId);\n    }\n  }, {\n    key: \"handleAddClick\",\n    value: function handleAddClick() {\n      var _wallet = {};\n      _wallet.address = this.state.walletAddressInput;\n      _wallet.publicKey = this.state.walletPublicKeyInput;\n      _wallet.privateKey = this.state.walletPrivateKeyInput;\n      _wallet.userId = this.props.user.Id;\n      this.props.addWallet(_wallet);\n    } // validate the form of inputs\n\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      return {\n        walletAddressInput: /^[A-Za-z0-9]+$/.test(this.state.walletAddressInput) && this.state.walletAddressInput.length >= 26 && this.state.walletAddressInput.length <= 35,\n        walletPublicKeyInput: /^[a-f0-9]+$/.test(this.state.walletPublicKeyInput) && this.state.walletPublicKeyInput.length === 66,\n        walletPrivateKeyInput: /^[A-Za-z0-9]+$/.test(this.state.walletPrivateKeyInput) && this.state.walletPrivateKeyInput.length === 52\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var walletList = this.props.user.wallets.map(function (wallet, index) {\n        return React.createElement(\"div\", {\n          key: \"wallet_\" + wallet.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Wallet \", index, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Address: \", wallet.address, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.handleChooseClick(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \" Choose \")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.handleDeleteClick(wallet.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \" Delete \")));\n      });\n      var validation = this.validate();\n      var isDisabled = false;\n      var errorMsg = \"\";\n      Object.keys(validation).forEach(function (key) {\n        if (!validation[key]) {\n          isDisabled = true;\n          errorMsg += \"Please check the \" + key + \" field.\\n\";\n        }\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Welcome, \", this.props.user.username, \"! These are your wallets.\"), walletList, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"New wallet\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \" \", errorMsg, \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Wallet address: \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"walletAddressInput\",\n        onChange: this.handleChange,\n        placeholder: \"Enter your wallet address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), \"Public Key: \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"walletPublicKeyInput\",\n        onChange: this.handleChange,\n        placeholder: \"Enter your wallet public key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), \"WIF: \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"walletPrivateKeyInput\",\n        onChange: this.handleChange,\n        placeholder: \"Enter your wallet private key in Base58 Wallet Import Format\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        disabled: isDisabled,\n        onClick: this.handleAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \" Add a new wallet \")))));\n    }\n  }]);\n\n  return Wallet;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  //console.log(state);\n  return {\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  choosePayer: choosePayer,\n  deleteWallet: deleteWallet,\n  addWallet: addWallet\n})(Wallet);","map":{"version":3,"sources":["D:\\Projects\\playground\\playground-bitcoin-blockcrypher\\client\\src\\components\\Wallet.js"],"names":["React","Component","connect","Link","choosePayer","deleteWallet","addWallet","Wallet","props","state","walletAddressInput","walletPublicKeyInput","walletPrivateKeyInput","handleAddClick","bind","handleChange","e","setState","target","name","value","index","walletId","_wallet","address","publicKey","privateKey","userId","user","Id","test","length","walletList","wallets","map","wallet","id","handleChooseClick","handleDeleteClick","validation","validate","isDisabled","errorMsg","Object","keys","forEach","key","username","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  choosePayer,\r\n  deleteWallet,\r\n  addWallet\r\n} from './../redux/actions/actions';\r\n\r\nclass Wallet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      walletAddressInput: \"\",\r\n      walletPublicKeyInput: \"\",\r\n      walletPrivateKeyInput: \"\",\r\n    };\r\n\r\n    this.handleAddClick = this.handleAddClick.bind(this);\r\n\r\n    this.handleChange = (e) => {\r\n          this.setState(\r\n              {\r\n                  [e.target.name]: e.target.value\r\n              }\r\n          );\r\n    };\r\n  }\r\n\r\n  handleChooseClick(index){\r\n    this.props.choosePayer(index);\r\n  }\r\n\r\n  handleDeleteClick(walletId){\r\n    this.props.deleteWallet(walletId);\r\n  }\r\n\r\n  handleAddClick(){\r\n    let _wallet = {};\r\n    _wallet.address = this.state.walletAddressInput;\r\n    _wallet.publicKey = this.state.walletPublicKeyInput;\r\n    _wallet.privateKey = this.state.walletPrivateKeyInput;\r\n    _wallet.userId = this.props.user.Id;\r\n    this.props.addWallet(_wallet);\r\n  }\r\n\r\n  // validate the form of inputs\r\n  validate() {\r\n    return {\r\n      walletAddressInput: /^[A-Za-z0-9]+$/.test(this.state.walletAddressInput) && this.state.walletAddressInput.length >= 26 && this.state.walletAddressInput.length <= 35,\r\n      walletPublicKeyInput: /^[a-f0-9]+$/.test(this.state.walletPublicKeyInput) && this.state.walletPublicKeyInput.length === 66,\r\n      walletPrivateKeyInput: /^[A-Za-z0-9]+$/.test(this.state.walletPrivateKeyInput) && this.state.walletPrivateKeyInput.length === 52,\r\n    };\r\n  }\r\n\r\n    render() {\r\n        let walletList = this.props.user.wallets.map((wallet, index) => {\r\n          return(\r\n            <div key={\"wallet_\" + wallet.id}>\r\n              <div>\r\n                Wallet {index} <br />\r\n              </div>\r\n              <div>\r\n                Address: {wallet.address} <br />\r\n              </div>\r\n              <div>\r\n                <button onClick={(e) => this.handleChooseClick(index)}> Choose </button>\r\n              </div>\r\n              <div>\r\n                <button onClick={(e) => this.handleDeleteClick(wallet.id)}> Delete </button>\r\n              </div>\r\n            </div>\r\n          );\r\n        });\r\n\r\n        let validation = this.validate();\r\n        let isDisabled = false;\r\n        let errorMsg = \"\";\r\n        Object.keys(validation).forEach(\r\n          (key) => {\r\n            if (!validation[key]){\r\n              isDisabled = true;\r\n              errorMsg += \"Please check the \" + key + \" field.\\n\"\r\n            }\r\n          }\r\n        );\r\n\r\n        return (\r\n            <div>\r\n              <div>\r\n                Welcome, {this.props.user.username}! These are your wallets.\r\n              </div>\r\n              {walletList}\r\n              <div>\r\n                <div>\r\n                  New wallet\r\n                </div>\r\n                <form>\r\n                  <div> {errorMsg} </div>\r\n                  <div>\r\n                    Wallet address: <input type=\"text\" name=\"walletAddressInput\" onChange={this.handleChange} placeholder = \"Enter your wallet address\" /> <br/>\r\n                    Public Key: <input type=\"text\" name=\"walletPublicKeyInput\" onChange={this.handleChange} placeholder = \"Enter your wallet public key\" / > <br/>\r\n                    WIF: <input type=\"text\" name=\"walletPrivateKeyInput\" onChange={this.handleChange} placeholder = \"Enter your wallet private key in Base58 Wallet Import Format\" / > <br/>\r\n                  </div>\r\n                  <div>\r\n                    <button type = \"button\" disabled={isDisabled} onClick={this.handleAddClick}> Add a new wallet </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state);\r\n    return {\r\n        user: state.auth.user,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  choosePayer,\r\n  deleteWallet,\r\n  addWallet\r\n})(Wallet);\r\n"]},"metadata":{},"sourceType":"module"}