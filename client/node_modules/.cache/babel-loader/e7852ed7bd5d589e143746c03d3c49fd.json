{"ast":null,"code":"import _defineProperty from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Projects\\\\others\\\\mini-bitcoin-wallet\\\\client\\\\src\\\\components\\\\Wallet.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Container, Table, Row, Form, Button } from 'react-bootstrap';\nimport Search from \"./Search\";\nimport { choosePayer, deleteWallet, addWallet } from './../redux/actions/actions'; // This component is used to show all saved wallets of a user\n\nvar Wallet =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wallet, _Component);\n\n  function Wallet(props) {\n    var _this;\n\n    _classCallCheck(this, Wallet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wallet).call(this, props));\n\n    _this.handleAddClick = function (e) {\n      e.preventDefault();\n      var _wallet = {};\n      _wallet.address = _this.state.walletAddressInput;\n      _wallet.publicKey = _this.state.walletPublicKeyInput;\n      _wallet.privateKey = _this.state.walletPrivateKeyInput;\n      _wallet.userId = _this.props.user.Id;\n\n      _this.props.addWallet(_this.props.user.token, _wallet);\n    };\n\n    _this.state = {\n      walletAddressInput: \"\",\n      walletPublicKeyInput: \"\",\n      walletPrivateKeyInput: \"\"\n    };\n    _this.handleAddClick = _this.handleAddClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(Wallet, [{\n    key: \"handleChooseClick\",\n    value: function handleChooseClick(index) {\n      this.props.choosePayer(index);\n    }\n  }, {\n    key: \"handleDeleteClick\",\n    value: function handleDeleteClick(walletId) {\n      this.props.deleteWallet(this.props.user.token, walletId);\n    }\n  }, {\n    key: \"validate\",\n    // validate the form of inputs\n    value: function validate() {\n      return {\n        walletAddressInput: /^[A-Za-z0-9]+$/.test(this.state.walletAddressInput) && this.state.walletAddressInput.length >= 26 && this.state.walletAddressInput.length <= 35,\n        walletPublicKeyInput: /^[a-f0-9]+$/.test(this.state.walletPublicKeyInput) && this.state.walletPublicKeyInput.length === 66,\n        walletPrivateKeyInput: /^[A-Za-z0-9]+$/.test(this.state.walletPrivateKeyInput) && this.state.walletPrivateKeyInput.length === 52\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.props.user.wallets) {\n        return React.createElement(Search, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      }\n\n      var walletList = this.props.user.wallets.map(function (wallet, index) {\n        return React.createElement(\"tr\", {\n          key: \"wallet_\" + wallet.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, index + 1), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"Address: \", wallet.address, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.handleChooseClick(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \" Choose \")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.handleDeleteClick(wallet.Id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \" Delete \")));\n      });\n      var validation = this.validate();\n      var isDisabled = false;\n      Object.keys(validation).forEach(function (key) {\n        if (!validation[key]) {\n          isDisabled = true;\n        }\n      });\n      return React.createElement(Container, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Welcome, \", this.props.user.username, \"! These are your wallets.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"td\", {\n        colspan: \"3\",\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"My Wallets\")), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, walletList, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        align: \"center\",\n        colspan: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"My New Wallet\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"td\", {\n        colspan: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"formWalletAddress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Wallet Address\"), React.createElement(Form.Control, {\n        type: \"text\",\n        name: \"walletAddressInput\",\n        onChange: this.handleChange,\n        isInvalid: !validation.walletAddressInput,\n        placeholder: \"Enter your wallet address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Form.Control.Feedback, {\n        type: \"invalid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"A valid address length must be in the range of 26 and 35.\")), React.createElement(Form.Group, {\n        controlId: \"formWalletPublicKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Public Key\"), React.createElement(Form.Control, {\n        type: \"text\",\n        name: \"walletPublicKeyInput\",\n        onChange: this.handleChange,\n        isInvalid: !validation.walletPublicKeyInput,\n        placeholder: \"Enter your wallet public key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Form.Control.Feedback, {\n        type: \"invalid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"The length of a valid public key must be 66.\")), React.createElement(Form.Group, {\n        controlId: \"formWalletPrivateKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Private Key(WIF)\"), React.createElement(Form.Control, {\n        type: \"text\",\n        name: \"walletPrivateKeyInput\",\n        onChange: this.handleChange,\n        isInvalid: !validation.walletPrivateKeyInput,\n        placeholder: \"Enter your wallet private key in Base58 Wallet Import Format\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Form.Control.Feedback, {\n        type: \"invalid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"The length of a valid private key (WIF) must be 52.\")), React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        disabled: isDisabled,\n        onClick: this.handleAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Create\")))))));\n    }\n  }]);\n\n  return Wallet;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  //console.log(state);\n  return {\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  choosePayer: choosePayer,\n  deleteWallet: deleteWallet,\n  addWallet: addWallet\n})(Wallet);","map":{"version":3,"sources":["D:\\Projects\\others\\mini-bitcoin-wallet\\client\\src\\components\\Wallet.js"],"names":["React","Component","connect","Link","Container","Table","Row","Form","Button","Search","choosePayer","deleteWallet","addWallet","Wallet","props","handleAddClick","e","preventDefault","_wallet","address","state","walletAddressInput","publicKey","walletPublicKeyInput","privateKey","walletPrivateKeyInput","userId","user","Id","token","bind","handleChange","setState","target","name","value","index","walletId","test","length","wallets","walletList","map","wallet","id","handleChooseClick","handleDeleteClick","validation","validate","isDisabled","Object","keys","forEach","key","username","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Table, Row, Form, Button } from 'react-bootstrap';\r\nimport Search from \"./Search\";\r\n\r\nimport {\r\n  choosePayer,\r\n  deleteWallet,\r\n  addWallet\r\n} from './../redux/actions/actions';\r\n\r\n\r\n// This component is used to show all saved wallets of a user\r\nclass Wallet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      walletAddressInput: \"\",\r\n      walletPublicKeyInput: \"\",\r\n      walletPrivateKeyInput: \"\",\r\n    };\r\n\r\n    this.handleAddClick = this.handleAddClick.bind(this);\r\n\r\n    this.handleChange = (e) => {\r\n          this.setState(\r\n              {\r\n                  [e.target.name]: e.target.value\r\n              }\r\n          );\r\n    };\r\n  }\r\n\r\n  handleChooseClick(index){\r\n    this.props.choosePayer(index);\r\n  }\r\n\r\n  handleDeleteClick(walletId){\r\n    this.props.deleteWallet(this.props.user.token, walletId);\r\n  }\r\n\r\n  handleAddClick = (e) => {\r\n    e.preventDefault();\r\n    let _wallet = {};\r\n    _wallet.address = this.state.walletAddressInput;\r\n    _wallet.publicKey = this.state.walletPublicKeyInput;\r\n    _wallet.privateKey = this.state.walletPrivateKeyInput;\r\n    _wallet.userId = this.props.user.Id;\r\n    this.props.addWallet(this.props.user.token, _wallet);\r\n  }\r\n\r\n  // validate the form of inputs\r\n  validate() {\r\n    return {\r\n      walletAddressInput: /^[A-Za-z0-9]+$/.test(this.state.walletAddressInput) && this.state.walletAddressInput.length >= 26 && this.state.walletAddressInput.length <= 35,\r\n      walletPublicKeyInput: /^[a-f0-9]+$/.test(this.state.walletPublicKeyInput) && this.state.walletPublicKeyInput.length === 66,\r\n      walletPrivateKeyInput: /^[A-Za-z0-9]+$/.test(this.state.walletPrivateKeyInput) && this.state.walletPrivateKeyInput.length === 52,\r\n    };\r\n  }\r\n\r\n    render() {\r\n      if (!this.props.user.wallets) {\r\n        return (<Search/>);\r\n      }\r\n        let walletList = this.props.user.wallets.map((wallet, index) => {\r\n          return(\r\n            <tr key={\"wallet_\" + wallet.id}>\r\n              <td>\r\n                {index + 1}\r\n              </td>\r\n              <td>\r\n                Address: {wallet.address} <br />\r\n              </td>\r\n              <td>\r\n                <button onClick={(e) => this.handleChooseClick(index)}> Choose </button>\r\n              </td>\r\n              <td>\r\n                <button onClick={(e) => this.handleDeleteClick(wallet.Id)}> Delete </button>\r\n              </td>\r\n            </tr>\r\n          );\r\n        });\r\n\r\n        let validation = this.validate();\r\n        let isDisabled = false;\r\n        Object.keys(validation).forEach(\r\n          (key) => {\r\n            if (!validation[key]){\r\n              isDisabled = true;\r\n            }\r\n          }\r\n        );\r\n\r\n        return (\r\n            <Container className=\"justify-content-md-center\">\r\n              <Row className=\"justify-content-md-center\">\r\n                Welcome, {this.props.user.username}! These are your wallets.\r\n              </Row>\r\n              <br/>\r\n              <Table  striped bordered hover>\r\n                <thead>\r\n                  <td>#</td>\r\n                  <td colspan=\"3\" className=\"justify-content-md-center\">My Wallets</td>\r\n                </thead>\r\n                <tbody>\r\n                  {walletList}\r\n                  <tr><td align=\"center\" colspan=\"4\">My New Wallet</td></tr>\r\n                  <tr><td></td><td colspan=\"3\">\r\n                    <Form>\r\n                      <Form.Group controlId=\"formWalletAddress\">\r\n                        <Form.Label>Wallet Address</Form.Label>\r\n                        <Form.Control type=\"text\" name=\"walletAddressInput\" onChange={this.handleChange} isInvalid={!validation.walletAddressInput} placeholder = \"Enter your wallet address\"/>\r\n                        <Form.Control.Feedback type=\"invalid\">A valid address length must be in the range of 26 and 35.</Form.Control.Feedback>\r\n                      </Form.Group>\r\n\r\n                      <Form.Group controlId=\"formWalletPublicKey\">\r\n                        <Form.Label>Public Key</Form.Label>\r\n                        <Form.Control type=\"text\" name=\"walletPublicKeyInput\" onChange={this.handleChange} isInvalid={!validation.walletPublicKeyInput} placeholder = \"Enter your wallet public key\"/>\r\n                        <Form.Control.Feedback type=\"invalid\">The length of a valid public key must be 66.</Form.Control.Feedback>\r\n                      </Form.Group>\r\n\r\n                      <Form.Group controlId=\"formWalletPrivateKey\">\r\n                        <Form.Label>Private Key(WIF)</Form.Label>\r\n                        <Form.Control type=\"text\" name=\"walletPrivateKeyInput\" onChange={this.handleChange} isInvalid={!validation.walletPrivateKeyInput} placeholder = \"Enter your wallet private key in Base58 Wallet Import Format\"/>\r\n                        <Form.Control.Feedback type=\"invalid\">The length of a valid private key (WIF) must be 52.</Form.Control.Feedback>\r\n                      </Form.Group>\r\n\r\n                      <Button variant=\"primary\" type=\"submit\" disabled={isDisabled} onClick={this.handleAddClick}>\r\n                        Create\r\n                      </Button>\r\n                    </Form>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state);\r\n    return {\r\n        user: state.auth.user,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  choosePayer,\r\n  deleteWallet,\r\n  addWallet\r\n})(Wallet);\r\n"]},"metadata":{},"sourceType":"module"}